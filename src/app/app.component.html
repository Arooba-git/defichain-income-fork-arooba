<div
  class="h-screen sm:max-h-screen bg-gray-100"
  xmlns="http://www.w3.org/1999/html"
>
  <header
    class="h-12 py-1 px-2 justify-center flex sm:h-24 sm:py-3 sm:justify-start"
  >
    <a
      class="sm:hidden absolute left-2 flex cursor-pointer hover:text-pink-500"
      (click)="toggleMenu()"
    >
      <object
        type="image/svg+xml"
        data="../assets/icons/menu.svg"
        class="pointer-events-none"
      ></object>
    </a>

    <a (click)="handlePage('dashboard')" class="w-28">
      <img
        src="../assets/img/Defi-income.svg"
        class="h-full mx-auto"
        alt="DefiChain-Income Logo"
      />
    </a>

    <div *ngIf="loggedIn" class="hidden sm:inline ml-4 h-full py-3 text-sm">
      <strong>{{ 'login3' | translate }}</strong>
      <div>{{loggedInAuth}}</div>
    </div>

    <div class="hidden sm:flex absolute right-6 self-center">
      <div *ngIf="apiOnline">
        <div class="inline-block rounded bg-green-400 h-2 w-2"></div>
        Online
      </div>
      
      <div *ngIf="!apiOnline">
        <div class="inline-block rounded bg-red-600 h-2 w-2"></div>
        Offline
      </div>

      <select
        class="ml-4 bg-gray-100 border-none px-2 uppercase text-lg focus:outline-none"
        (change)="useLanguage($event.target.value)"
        [value]="lang"
      >
        <option value="de">DE</option>
        <option value="en" selected>EN</option>
      </select>

      <select
        class="bg-gray-100 border-none px-2 uppercase text-lg focus:outline-none text-center"
        (change)="onChangeFiat($event.target.value)"
        [value]="fiat"
        style="text-align-last: center;"
      >
        <option class="text-center" value="USD" selected>$</option>
        <option class="text-center" value="EUR">€</option>
        <option class="text-center" value="GBP">£</option>
        <option class="text-center" value="CHF">CHF</option>
      </select>
    </div>
  </header>

  <div
    class="fixed top-0 h-full sm:hidden z-50 transition duration-1000 ease-in-out transform bg-gray-100"
    [ngClass]="menu ? 'w-full' : ''"
    *ngIf="menu"
  >
    <a
      (click)="handlePage('dashboard')"
      class="absolute w-28 h-12 py-1 left-1/2 transform -translate-x-1/2"
    >
      <img
        src="../assets/img/Defi-income.svg"
        alt="DefiChain-Income Logo"
        class="h-full mx-auto"
      />
    </a>
    <div
      class="absolute right-5 top-5 z-10 cursor-pointer"
      (click)="toggleMenu()"
    >
      <object
        type="image/svg+xml"
        data="../assets/icons/close.svg"
        class="pointer-events-none"
      ></object>
    </div>

    <div class="mt-20 mx-8">
      <a
        (click)="handlePage('dashboard')"
        [ngClass]="{ 'text-pink-500': currentPage === 'dashboard' }"
        class="hover:text-pink-400 py-3 text-center cursor-pointer flex"
      >
        <app-icon name="home"></app-icon>
        <div class="inline self-center ml-2 text-xl">Dashboard</div>
      </a>

      <a
        (click)="handlePage('holdings')"
        [ngClass]="{ 'text-pink-500': currentPage === 'holdings' }"
        class="hover:text-pink-400 py-3 text-center cursor-pointer flex"
      >
        <app-icon name="doughnut-chart"></app-icon>
        <div class="inline self-center ml-2 text-xl">Holdings</div>
      </a>

      <a
        (click)="handlePage('income')"
        [ngClass]="{ 'text-pink-500': currentPage === 'income' }"
        class="hover:text-pink-400 py-3 text-center cursor-pointer flex"
      >
        <app-icon name="income"></app-icon>
        <div class="inline self-center ml-2 text-xl">Income</div>
      </a>

      <a
        (click)="handlePage('dex')"
        [ngClass]="{ 'text-pink-500': currentPage === 'dex' }"
        class="hover:text-pink-400 py-3 text-center cursor-pointer flex"
      >
        <app-icon name="line-chart"></app-icon>
        <div class="inline self-center ml-2 text-xl">DEX</div>
      </a>

      <a
        (click)="handlePage('defi')"
        [ngClass]="{ 'text-pink-500': currentPage === 'defi' }"
        class="hover:text-pink-400 py-3 text-center cursor-pointer flex"
      >
        <app-icon name="bar-chart"></app-icon>
        <div class="inline self-center ml-2 text-xl">DEFI</div>
      </a>

      <a
        (click)="handlePage('calc')"
        [ngClass]="{ 'text-pink-500': currentPage === 'calc' }"
        class="hover:text-pink-400 py-3 text-center cursor-pointer flex"
      >
        <app-icon name="calculator"></app-icon>
        <div class="inline self-center ml-2 text-xl">Calculator</div>
      </a>

      <div class="pt-3 mt-3 border-t border-gray-500">
        <a
          (click)="handlePage('info')"
          [ngClass]="{ 'text-pink-500': currentPage === 'info' }"
          class="hover:text-pink-400 text-center cursor-pointer flex"
        >
          <app-icon name="info"></app-icon>
          <div class="inline self-center ml-2 text-xl">Info</div>
        </a>
        <a
          (click)="handlePage('settings')"
          [ngClass]="{ 'text-pink-500': currentPage === 'settings' }"
          class="hover:text-pink-400 text-center cursor-pointer flex"
        >
          <div class="w-10 h-10">
            <app-icon name="settings"></app-icon>
          </div>
          <div class="inline self-center ml-2 text-xl">Settings</div>
        </a>
      </div>

      <div class="absolute bottom-5">
        <select
          class="bg-gray-100 border-none px-2 uppercase text-lg focus:outline-none"
          (change)="useLanguage($event.target.value)"
          value="lang"
        >
          <option value="de">DE</option>
          <option value="en" selected>EN</option>
        </select>

        <select
          class="bg-gray-100 border-none px-2 uppercase text-lg focus:outline-none text-center"
          (change)="onChangeFiat($event.target.value)"
          value="fiat"
          style="text-align-last: center;"
        >
          <option class="text-center" value="USD" selected>$</option>
          <option class="text-center" value="EUR">€</option>
          <option class="text-center" value="GBP">£</option>
          <option class="text-center" value="CHF">CHF</option>
        </select>
      </div>
    </div>
  </div>

  <div class="flex items-stretch dashboard-height">
    <div
      class="hidden sm:inline transition duration-300 ease-in-out transform sm:w-24"
    >
      <div class="flex flex-col text-center h-full relative">
        <a
          (click)="handlePage('dashboard')"
          [ngClass]="{ 'text-pink-500': currentPage === 'dashboard' }"
          class="hover:text-pink-400 py-3 text-center cursor-pointer"
        >
          <app-icon name="home"></app-icon>
        </a>
        <a
          (click)="handlePage('holdings')"
          [ngClass]="{ 'text-pink-500': currentPage === 'holdings' }"
          class="hover:text-pink-400 py-3 text-center cursor-pointer"
        >
          <app-icon name="doughnut-chart"></app-icon>
        </a>
        <a
          (click)="handlePage('income')"
          [ngClass]="{ 'text-pink-500': currentPage === 'income' }"
          class="hover:text-pink-400 py-3 text-center cursor-pointer"
        >
          <app-icon name="income"></app-icon>
        </a>

        <a
          (click)="handlePage('dex')"
          [ngClass]="{ 'text-pink-500': currentPage === 'dex' }"
          class="hover:text-pink-400 py-3 text-center cursor-pointer"
        >
          <app-icon name="line-chart"></app-icon>
        </a>

        <a
          (click)="handlePage('defi')"
          [ngClass]="{ 'text-pink-500': currentPage === 'defi' }"
          class="hover:text-pink-400 py-3 text-center cursor-pointer"
        >
          <app-icon name="bar-chart"></app-icon>
        </a>
        <a
          (click)="handlePage('calculator')"
          [ngClass]="{ 'text-pink-500': currentPage === 'calculator' }"
          class="hover:text-pink-400 py-3 text-center cursor-pointer"
        >
          <app-icon name="calculator"></app-icon>
        </a>
        <div
          class="absolute bottom-5 inset-x-2/4 transform -translate-x-2/4 w-full"
        >
          <a
            (click)="handlePage('info')"
            [ngClass]="{ 'text-pink-500': currentPage === 'info' }"
            class="hover:text-pink-400 my-2 block cursor-pointer"
          >
            <app-icon name="info"></app-icon>
          </a>
          <a
            (click)="handlePage('settings')"
            [ngClass]="{ 'text-pink-500': currentPage === 'settings' }"
            class="hover:text-pink-400 my-2 block cursor-pointer"
          >
            <div class="w-10 h-10 mx-auto">
              <app-icon name="settings"></app-icon>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="flex-1 items-center m-2 sm:mt-0 sm:pl-0 sm:pr-4">
      <div
        *ngIf="dataLoaded"
        class="sm:max-w-full overflow-hidden w-full sm:h-97% rounded-xl p-3 bg-white mx-auto sm:mb-5 sm:overflow-auto relative"
      >
        <container-element [ngSwitch]="currentPage">
          <div *ngSwitchCase="'holdings'">
            <app-holdings-page
              [addAdress]="addAdress.bind(this)"
              [deleteAdress]="deleteAdress.bind(this)"
              [adress]="adress"
              [adresses]="adresses"
              [fiat]="fiat"
              [usdToEur]="usdToEur"
              [usdToChf]="usdToChf"
              [usdToGbp]="usdToGbp"
              [poolBtc]="poolBtc"
              [poolEth]="poolEth"
              [poolUsdt]="poolUsdt"
              [poolLtc]="poolLtc"
              [poolDoge]="poolDoge"
              [poolBch]="poolBch"
              [dfiInStaking]="dfiInStaking"
              [wallet]="wallet"
              [stakingApy]="stakingApy"
              [onChangeBtcWallet]="onChangeBtcWallet.bind(this)"
              [onChangeEthWallet]="onChangeEthWallet.bind(this)"
              [onChangeLtcWallet]="onChangeLtcWallet.bind(this)"
              [onChangeUsdtWallet]="onChangeUsdtWallet.bind(this)"
              [onChangeDogeWallet]="onChangeDogeWallet.bind(this)"
              [onChangeBchWallet]="onChangeBchWallet.bind(this)"
              [saveInputStaking]="saveInputStaking.bind(this)"
              [onChangeBtcBtcPool]="onChangeBtcBtcPool.bind(this)"
              [onChangeDfiBtcPool]="onChangeDfiBtcPool.bind(this)"
              [onChangeEthEthPool]="onChangeEthEthPool.bind(this)"
              [onChangeDfiEthPool]="onChangeDfiEthPool.bind(this)"
              [onChangeUsdtUsdtPool]="onChangeUsdtUsdtPool.bind(this)"
              [onChangeDfiUsdtPool]="onChangeDfiUsdtPool.bind(this)"
              [onChangeLtcLtcPool]="onChangeLtcLtcPool.bind(this)"
              [onChangeDfiLtcPool]="onChangeDfiLtcPool.bind(this)"
              [onChangeDogeDogePool]="onChangeDogeDogePool.bind(this)"
              [onChangeDfiDogePool]="onChangeDfiDogePool.bind(this)"
              [onChangeBchBchPool]="onChangeBchBchPool.bind(this)"
              [onChangeDfiBchPool]="onChangeDfiBchPool.bind(this)"
            ></app-holdings-page>
          </div>
          <div *ngSwitchCase="'income'">
            <app-income
              *ngIf="dataLoaded"
              [fiat]="fiat"
              [poolBtc]="poolBtc"
              [usdToEur]="usdToEur"
              [usdToChf]="usdToChf"
              [usdToGbp]="usdToGbp"
              [poolBchOut]="poolBchOut"
              [poolBtcOut]="poolBtcOut"
              [poolDogeOut]="poolDogeOut"
              [poolEthOut]="poolEthOut"
              [poolLtcOut]="poolLtcOut"
              [poolOut]="poolOut"
              [poolUsdtOut]="poolUsdtOut"
              [stakingOut]="stakingOut"
              [stakingCalcOut]="stakingCalcOut"
              [getAnteilBTCPoolAnGesamtLM]="getAnteilBTCPoolAnGesamtLM"
              [getAnteilETHPoolAnGesamtLM]="getAnteilETHPoolAnGesamtLM"
              [getAnteilLTCPoolAnGesamtLM]="getAnteilLTCPoolAnGesamtLM"
              [getAnteilUSDTPoolAnGesamtLM]="getAnteilUSDTPoolAnGesamtLM"
              [getAnteilDogePoolAnGesamtLM]="getAnteilDogePoolAnGesamtLM"
              [getAnteilBchPoolAnGesamtLM]="getAnteilBchPoolAnGesamtLM"
              [getDfiCountInLM]="getDfiCountInLM"
            ></app-income>
          </div>
          <div *ngSwitchCase="'dex'">
            <app-dex-page
              [fiat]="fiat"
              [dex]="dex"
              [usdToEur]="usdToEur"
              [usdToChf]="usdToChf"
              [usdToGbp]="usdToGbp"
              [poolBtc]="poolBtc"Week DFI =
              [poolDoge]="poolDoge"
              [poolBch]="poolBch"
              [stakingApyCake]="stakingApyCake"
              [stakingApyMN]="stakingApyMN"
              [rewards]="rewards"
            ></app-dex-page>
          </div>
          <div *ngSwitchCase="'defi'">
            <app-defi-page></app-defi-page>
          </div>
          <div *ngSwitchCase="'calculator'">
            <app-calculator-page
              [stakingApy]="stakingApy"
              [stakingApyMN]="stakingApyMN"
              [stakingApyCake]="stakingApyCake"
              [poolBtc]="poolBtc"
              [pool]="poolBtc"
              [usdToGbp]="usdToGbp"
              [usdToChf]="usdToChf"
              [usdToEur]="usdToEur"
              [fiat]="fiat"
              [out]="poolOut"
              [wallet]="wallet"
              [balance]="balance"
              [poolBtc]="poolBtc"
              [poolBch]="poolBch"
              [poolDoge]="poolDoge"
              [poolLtc]="poolLtc"
              [poolUsdt]="poolUsdt"
              [poolEth]="poolEth"
              [blocktimeInS]="blocktimeInS"
              [dfiProBlockBch]="dfiProBlockBch"
              [dfiProBlockBtc]="dfiProBlockBtc"
              [dfiProBlockDoge]="dfiProBlockDoge"
              [dfiProBlockEth]="dfiProBlockEth"
              [dfiProBlockLtc]="dfiProBlockLtc"
              [dfiProBlockUsdt]="dfiProBlockUsdt"
            ></app-calculator-page>
          </div>
          <div *ngSwitchCase="'info'">
            <app-info-page
              [trackGraphQL]="trackGraphQL.bind(this)"
              [trackGit]="trackGit.bind(this)"
            ></app-info-page>
          </div>
          <div *ngSwitchCase="'settings'">
            <app-settings-page
              [sCountdown]="sCountdown"
              [sCountdownShow]="sCountdownShow"
              [onChangeRefreshS]="onChangeRefreshS.bind(this)"
              [loggedIn]="loggedIn"
              [errorBackend]="errorBackend"
              [successBackend]="successBackend"
              [register]="register.bind(this)"
              [login]="login.bind(this)"
            ></app-settings-page>
          </div>
          <div *ngSwitchDefault>
            <app-dashboard-page></app-dashboard-page>
          </div>
        </container-element>
      </div>
    </div>
  </div>
</div>
