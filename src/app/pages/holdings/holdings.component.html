<div>
  <h1 class="text-3xl mb-4">Best√§nde</h1>

  <a class="absolute right-3 top-3 flex cursor-pointer hover:text-pink-500" (click)="handleSettingsDialog()">
    <div class="pointer-events-none w-8 h-8">
      <app-icon name="settings"></app-icon>
    </div>
  </a>

  <div *ngIf="wallet && poolBtc">
    <app-value
      [poolBtc]="poolBtc"
      [fiat]="fiat"
      [usdToEur]="usdToEur"
      [usdToChf]="usdToChf"
      [usdToGbp]="usdToGbp"
      [poolEth]="poolEth"
      [poolUsdt]="poolUsdt"
      [poolLtc]="poolLtc"
      [poolDoge]="poolDoge"
      [poolBch]="poolBch"
      [dfiInStaking]="dfiInStaking"
      [wallet]="wallet"
    ></app-value>
  </div>

  <div *ngIf="dialogOpen" class="bg-fixed bg-white fixed inset-0 bg-opacity-80">
    <div class="absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2 bg-white w-11/12 lg:w-4/5 xl:w-2/3 max-w-4xl h-4/6 shadow-md rounded p-4 overflow-hidden">
      <div class="absolute right-5 top-5 z-10 cursor-pointer" (click)="handleSettingsDialog()">
        <object
          type="image/svg+xml"
          data="../assets/icons/close.svg"
          class="pointer-events-none select-none"
        ></object>
      </div>

      <div class="w-full h-full pt-8 relative">
        <div class="uppercase grid grid-flow-col grid-cols-2">
          <a
            (click)="handleTab('manual')"
            class="text-center border-r cursor-pointer"
            [ngClass]="{'text-pink-500': selectedTab === 'manual'}"
          >
            Manual enter
          </a>
          <a
            (click)="handleTab('api')"
            class="text-center cursor-pointer"
            [ngClass]="{'text-pink-500': selectedTab === 'api'}"
          >
            Adressen
          </a>
        </div>

        <div class="py-3 h-full">
          <div *ngIf="selectedTab === 'manual'" class="overflow-y-auto h-full pr-2">
            <div class="text-sm">Wallet</div>
            <div class="grid grid-flow-row grid-rows-2 grid-cols-2 md:grid-cols-3 gap-3 mb-6">
              <div>
                <app-input
                  name="btc"
                  type="number"
                  label="BTC"
                  [handleChange]="onChangeBtcWallet.bind(this)"
                  [(value)]="wallet.btc"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="eth"
                  type="number"
                  label="ETH"
                  [handleChange]="onChangeEthWallet"
                  [(value)]="wallet.eth"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="ltc"
                  type="number"
                  label="LTC"
                  [handleChange]="onChangeLtcWallet"
                  [(value)]="wallet.ltc"
                ></app-input> 
              </div>
              <div>
                <app-input
                  name="usdt"
                  type="number"
                  label="USDT"
                  [handleChange]="onChangeUsdtWallet"
                  [(value)]="wallet.usdt"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="doge"
                  type="number"
                  [handleChange]="onChangeDogeWallet"
                  label="DOGE"
                  [(value)]="wallet.doge"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="bch"
                  type="number"
                  [handleChange]="onChangeBchWallet"
                  label="BCH"
                  [(value)]="wallet.bch"
                ></app-input>
              </div>
            </div>

            <div class="text-sm">Staking</div>
            <div class="grid grid-flow-row grid-rows-1 grid-cols-2 md:grid-cols-3 gap-3 mb-6">
              <div>
                <app-input
                  name="staking-apy"
                  type="number"
                  [handleChange]="saveInputStaking"
                  label="Staking APY"
                  [(value)]="stakingApy"  
                ></app-input>
              </div>
              <div>
                <app-input
                  name="defi"
                  type="number"
                  [handleChange]="onChangeDfiStaking"
                  label="DEFI"
                  [(value)]="dfiInStaking"  
                ></app-input>
              </div>
            </div>

            <div class="text-sm">Liquidity Mining</div>
            <div class="grid grid-flow-row grid-rows-6 grid-cols-2 md:grid-cols-3 gap-3 pb-4">
              <div>
                <app-input
                  name="btc"
                  type="number"
                  [handleChange]="onChangeBtcBtcPool"
                  label="BTC"
                  [(value)]="wallet.btcInBtcPool"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="defi"
                  type="number"
                  [handleChange]="onChangeDfiBtcPool"
                  label="DEFI"
                  [(value)]="wallet.dfiInBtcPool"
                ></app-input>
              </div>
              <div class="md:col-start-1">
                <app-input
                  name="ethInEthPool"
                  type="number"
                  [handleChange]="onChangeEthEthPool"
                  label="ETH"
                  [(value)]="wallet.ethInEthPool"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="dfiInETHcPool"
                  type="number"
                  [handleChange]="onChangeDfiEthPool"
                  label="DEFI"
                  [(value)]="wallet.dfiInEthPool"
                ></app-input>
              </div>
              <div class="md:col-start-1">
                <app-input
                  name="usdt"
                  type="number"
                  [handleChange]="onChangeUsdtUsdtPool"
                  label="USDT"
                  [(value)]="wallet.usdtInUsdtPool"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="dfiInUsdtPool"
                  type="number"
                  [handleChange]="onChangeDfiUsdtPool"
                  label="Defi"
                  [(value)]="wallet.dfiInUsdtPool"
                ></app-input>
              </div>
              <div class="md:col-start-1">
                <app-input
                  name="ltcInLtcPool"
                  type="number"
                  [handleChange]="onChangeLtcLtcPool"
                  label="LTC"
                  [(value)]="wallet.ltcInLtcPool"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="dfiInLtcPool"
                  type="number"
                  [handleChange]="onChangeDfiLtcPool"
                  label="DEFI"
                  [(value)]="wallet.dfiInLtcPool"
                ></app-input>
              </div>
              <div class="md:col-start-1">
                <app-input
                  name="dogeInDogePool"
                  type="number"
                  [handleChange]="onChangeDogeDogePool"
                  label="Doge"
                  [(value)]="wallet.dogeInDogePool"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="dfiInDogePool"
                  type="number"
                  [handleChange]="onChangeDfiDogePool"
                  label="DEFI"
                  [(value)]="wallet.dfiInDogePool"
                ></app-input>
              </div>
              <div class="md:col-start-1">
                <app-input
                  name="bchInBchPool"
                  type="number"
                  [handleChange]="onChangeBchBchPool"
                  label="BCH"
                  [(value)]="wallet.bchInBchPool"
                ></app-input>
              </div>
              <div>
                <app-input
                  name="dfiInBchPool"
                  type="number"
                  [handleChange]="onChangeDfiBchPool"
                  label="DEFI"
                  [(value)]="wallet.dfiInBchPool"
                ></app-input>
              </div>
            </div>
          </div>

          <div *ngIf="selectedTab === 'api'">
            <div>
              <div class="inline-block w-3/4">
                <app-input
                  required
                  id="inputAddress"
                  name="apiKey"
                  label="DFI Address"
                  [value]="this.adress"
                >
                </app-input>
              </div>
              <div class="inline-block w-1/4 pl-2 align-top">
                <button
                  class="bg-pink-500 rounded-md w-full h-14 text-white align-top focus:outline-none"
                  (click)="addAdress()"
                >
                  Add
                </button>
              </div>
            </div>

            <div class="flex">
              <div class="block mt-2 h-auto w-full">
                <div 
                  *ngFor="let a of adresses; index as i;"
                  class="relative px-3"
                  [ngClass]="{'bg-gray-200': i % 2}"
                >
                  {{ a }}
                  <a class="absolute top-0 right-3 hover:text-pink-500 cursor-pointer" (click)="this.deleteAdress(a)">
                    X
                  </a>
                </div>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>
  </div>
</div>
